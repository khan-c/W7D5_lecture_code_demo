need to figure out how to pass errors through to state
